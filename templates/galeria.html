{% extends 'base.html' %}

{% block title %}Galer√≠a{% endblock %}

{% block content %}
<main class="galeria-fondo">

    <!-- T√≠tulo -->
    <h2 class="titulo-album">Galer√≠a de √Ålbumes</h2>

    <!-- Botones para crear √°lbum y subir fotos (solo si hay sesi√≥n) -->
    {% if session.get('logueado') %}
    <div class="galeria-superior">
        <a href="{{ url_for('crear_album') }}" class="boton-galeria">‚ûï Crear √Ålbum</a>
        <a href="{{ url_for('upload') }}" class="boton-galeria">üì§ Subir Fotos</a>
    </div>
    {% endif %}

    <!-- Lista de √°lbumes -->
    <div class="galeria-botones">
        {% for carpeta, fotos in galeria.items() %}
        <div class="album-carpeta">
            <a href="{{ url_for('ver_album', carpeta=carpeta) }}">
                {% if fotos and fotos|length > 0 %}
                    <!-- Mostrar primera foto como portada -->
                    <img src="{{ fotos[0].url }}" alt="Portada {{ carpeta }}" class="icono-carpeta">
                {% else %}
                    <!-- Mostrar icono de carpeta si est√° vac√≠o -->
                    <img src="{{ url_for('static', filename='img/icono_carpeta.png') }}" alt="Carpeta" class="icono-carpeta">
                {% endif %}
                <span class="nombre-carpeta">{{ carpeta }}</span>
            </a>
        </div>
        {% else %}
        <p style="color:white; text-align:center; width:100%;">No hay √°lbumes creados a√∫n.</p>
        {% endfor %}
    </div>

    <!-- Bot√≥n volver al inicio -->
    <div class="volver-centro">
        <a href="{{ url_for('index') }}" class="boton-volver-dorado">
            <i class="fas fa-heart"></i> Volver al comienzo
        </a>
    </div>

</main>
{% endblock %}
