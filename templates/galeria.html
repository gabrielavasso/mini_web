{% extends 'base.html' %}

{% block title %}Galería de Álbumes{% endblock %}

{% block content %}
<main class="galeria-principal">
    <h2 class="titulo-galeria">Galería de Álbumes</h2>

    <!-- Botón Crear Álbum solo si está logueado -->
    {% if session.get('logueado') %}
    <div class="botones-galeria">
        <a href="{{ url_for('crear_album') }}" class="btn-crear-album">➕ Crear Álbum</a>
    </div>
    {% endif %}

    <!-- Lista de álbumes -->
    <div class="lista-albumes">
        {% if galeria %}
            {% for album, fotos in galeria.items() %}
            <div class="album-item">
                <a href="{{ url_for('ver_album', carpeta=album) }}">
                    {% if fotos and fotos[0]['url'] %}
                        <img src="{{ fotos[0]['url'] }}" alt="{{ album }}">
                    {% else %}
                        <div class="album-placeholder">Sin fotos</div>
                    {% endif %}
                    <p class="nombre-album">{{ album }}</p>
                </a>
            </div>
            {% endfor %}
        {% else %}
            <p class="sin-albumes">No hay álbumes creados aún.</p>
        {% endif %}
    </div>
</main>

<style>
.galeria-principal {
    text-align: center;
    padding: 20px;
}

.titulo-galeria {
    font-size: 2rem;
    color: #d4af37;
    margin-bottom: 20px;
}

.botones-galeria {
    margin-bottom: 20px;
}

.btn-crear-album {
    background: #d4af37;
    color: white;
    padding: 10px 20px;
    border-radius: 10px;
    text-decoration: none;
    font-weight: bold;
}

.lista-albumes {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
}

.album-item {
    text-align: center;
    width: 150px;
}

.album-item img {
    width: 100%;
    height: 120px;
    object-fit: cover;
    border-radius: 10px;
    border: 2px solid #d4af37;
}

.album-placeholder {
    width: 100%;
    height: 120px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(212,175,55,0.2);
    border: 2px dashed #d4af37;
    border-radius: 10px;
    color: #d4af37;
}

.nombre-album {
    margin-top: 8px;
    color: white;
    font-weight: bold;
}
</style>
{% endblock %}
